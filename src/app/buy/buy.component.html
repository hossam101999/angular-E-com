<div class="container buy-container">
    <h2 class="my-4">Checkout</h2>

    <div *ngIf="cartItems.length === 0" class="text-center">Your cart is empty.</div>

    <div *ngIf="cartItems.length > 0">
        <div class="row">
            <div class="col-12 buy-item" *ngFor="let item of cartItems">
                <div class="row">
                    <div class="col-md-3 item-info">
                        <img [src]="item.product.thumbnail" alt="{{ item.product.name }}" class="img-fluid">
                    </div>
                    <div class="col-md-6">
                        <h3>{{ item.product.name }}</h3>
                        <p class="text-muted">{{ item.product.description }}</p>
                        <p class="price">
                            Price: {{ item.product.price }} EGP
                        </p>
                        <p class="quantity">
                            Quantity: {{ item.quantity }}
                        </p>
                    </div>
                </div>
                <hr>
            </div>
        </div>

        <div class="total mt-4">
            <h3>Total: {{ getTotalPrice() | currency }}</h3>
        </div>

        <div class="checkout-form mt-4">
            <form #checkoutForm="ngForm" (ngSubmit)="onSubmit(checkoutForm.value)">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" class="form-control" name="name" ngModel required>
                </div>

                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" id="address" class="form-control" name="address" ngModel required>
                </div>

                <div class="form-group">
                    <label for="payment">Payment Method:</label>
                    <select id="payment" class="form-control" name="payment" ngModel required>
                        <option value="credit">Credit Card</option>
                        <option value="paypal">PayPal</option>
                        <option value="cod">Cash on Delivery</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-primary mt-3">Submit Order</button>
            </form>
        </div>
    </div>
</div>